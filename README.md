# CCF-jijin
基金间的相关性预测-chantcalf

队员：

chantcalf

我是鲜肉--永远不皱

我吃火锅，你吃火锅底料

keras+tensorflow

## CCF 2018 基金间的相关性预测 
初赛 Rank 22, 复赛 Rank 20

## 赛题
根据给出的基金净值、基金业绩比较基准、对应指数行情、基金间相关性等数据，构建模型、算法进行训练。然后针对我们提供的测试样本，通过您的算法或模型预测出之后一段时间内基金间的相关性情况。

## 方案

### seq2seq
根据历史数据，预测接下来61天的相关性。可以直接预测结果，也可以预测到已知最后一天的差值，或者预测差分序列。

对历史数据用RNN编码，基金1，基金2的数据共享权值，编码后交互（差的绝对值或乘积）。

训练数据使用采样生成，一个epoch为对每个基金对从历史中随机采样一个区间。验证用后61天。这样子其实只用了很少的数据，且随机性较大。

提交时取预测的61天的后n（n=1、10、30、61）天均值提交。

这种方法初赛很容易0.82+，复赛最高0.799。复赛数据多了，很难训练出来。

![seq2seq](https://github.com/chantcalf/CCF-jijin/blob/master/seq2seq.png)

一般预测完看曲线

![seq2seq_result](https://github.com/chantcalf/CCF-jijin/blob/master/result.png)

大部分都看起来不错的话线上效果也还行。

不过随机性大，下面这种有时候线上也不错

![seq2seq_result1](https://github.com/chantcalf/CCF-jijin/blob/master/result1.png)

### image2image

每天的基金相关性矩阵看做一张图，直接预测61天后的图。这种方法可以利用全数据训练。

尝试了U-net，效果很差0.7+。

预测差分图，0.78~0.8。


### 均值模型

初赛开始拿一天天去线上试，试了几天才0.80+，不到0.81。

复赛换榜最后三次，随机几天取均值。

最高 0.834，为['538','111','222','333','444','66','88','528','518']这些天的相关度均值。
